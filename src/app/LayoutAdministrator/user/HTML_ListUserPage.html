<div class="contenido-main-admin">
    
    <div>
        <div>
            <p class="contenido-main-admin__h1">{{businessObservable.nombre}}</p>
            <p class="contenido-main-admin__h2">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TITLE' | translate }}</p>
        </div>
        <hr>
        <button class="back-ico-one"
                title="{{ 'CONFIGURATION.BTN_ADMIN_USERS' | translate}}"
                mat-icon-button 
                (click)="redirectAdminUsersPage()"> <mat-icon>arrow_back</mat-icon> </button>
    </div>
    
    <div class="card">
        <div class="card-body">
            <div class="row">

                <div class="col-md-9">
                    <p class="contenido-main-admin__h3">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.SUBTITLE' | translate }}</p>    
                </div>
                
                <div class="col-md-3">
                    <button class="btn-add"
                            title="{{ 'CONFIGURATION.BTN_ADMIN_USERS' | translate}}"
                            mat-icon-button 
                            (click)="selectObjetoUsuario()"> <mat-icon>person_add</mat-icon> </button>
                </div>
            </div>
            <hr>
            <div class="contenido-main-admin__table">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th class="table__list-user__ico"></th>
                        
                            <th class="table__list-user__id">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_ID' | translate }}</th>
                            <th class="table__list-user__name">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_USERNAME' | translate }}</th>
                            <th class="table__list-user__email">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_EMAIL' | translate }}</th>
                            <th class="table__list-user__rol">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_ROL' | translate }}</th>
                            <th class="table__list-user__status">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_STATUS' | translate }}</th>
        
                            <th class="table__list-user__btn"></th>
                            <th class="table__list-user__btn"></th>
                            <th class="table__list-user__ico"></th>
                            <th class="table__list-user__ico"></th>
                        </tr>
                    </thead>

                    <tbody>
                        <tr *ngFor="let us of listUsers" >
        
                            <td (click)="selectObjetoUsuario(us)" class="item-list-edit"> <a> <mat-icon>edit</mat-icon> </a> </td>
        
                            <td class="item-list-edit" (click)="selectObjetoUsuario(us)">{{us.identificacion}}</td>
                            <td class="item-list-edit" (click)="selectObjetoUsuario(us)">{{us.nombreCompleto}}</td>
                            <td class="item-list-edit" (click)="selectObjetoUsuario(us)">{{us.email}}</td>
                            <td class="item-list-edit" (click)="selectObjetoUsuario(us)">{{us.puesto}}</td>
                            <td class="item-list-edit" (click)="selectObjetoUsuario(us)">{{us.estado}}</td>
        
                            <td><button *ngIf="isUserSuperAdmin" 
                                        (click)="optionBusiness(us)" 
                                        class="btn-business-user"> {{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_BTN_COMPANY' | translate }}  </button></td>
                            
                            <td><button (click)="optionRole(us)" 
                                        class="btn-rol-user">  {{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_BTN_ROLE' | translate }}  </button></td>
        
                            <td><button *ngIf="us.estado!='Active'"
                                        (click)="activateUser(us.identificacion, us.id)"
                                        class="item-list-on"
                                        mat-icon-button > <mat-icon>thumb_down_alt</mat-icon> </button>

                                <button *ngIf="us.estado=='Active'"
                                        (click)="inActivateUser(us.identificacion, us.id)"
                                        class="item-list-warn"
                                        mat-icon-button > <mat-icon>thumb_up_alt</mat-icon> </button></td>
        
                            <td><button (click)="deleteUser(us.id)"
                                    class="item-list-delete"
                                    mat-icon-button > <mat-icon>delete</mat-icon> </button></td>
                        </tr>

                        <tr *ngIf="!enableList">
                            <td colspan="10" class="text-center"> 
                                <span class="spinner-border spinner-border-lg align-center"></span> </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>