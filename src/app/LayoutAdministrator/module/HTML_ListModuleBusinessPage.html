<h1 style="color:#1A5276">Módulos</h1>
<h4 *ngIf="listModulesBusiness">Listado de Módulos de la Compañía {{business.nombre}}</h4>

<a routerLink="{{HTTPListBusinessPage}}" class="btn btn-light mb-2 mr-3">Volver</a>

<div class="card">
    <div class="card-body">

        <div *ngIf="listModulesBusiness">
            <h4 *ngIf="seleccionEmpresa" style="color:#1A5276">Seleccione el módulo al que va a deshabilitar el acceso</h4>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th style="width: 15%">Identificador</th>
                        <th style="width: 20%">Nombre</th>
                        <th style="width: 30%">Descripción</th>
                        <th style="width: 10%"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let module of listModulesBusiness">
                        <td>{{module.identificador}}</td>
                        <td>{{module.nombre}}</td>
                        <td>{{module.descripcion}}</td>
                        <td style="white-space: nowrap">

                            <button *ngIf="seleccionEmpresa" (click)="desAssignModuleBusiness(module.identificador)"  class="btn btn-sm btn-outline-danger mr-1">
                                <span *ngIf="isDesAssigning" class="spinner-border spinner-border-sm"></span>
                                <span *ngIf="!isDesAssigning">Eliminar Acceso</span>
                            </button>
            
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div *ngIf="listModulesSystem">
            <br>
            <h4 *ngIf="seleccionEmpresa" style="color:#1A5276">Seleccione el módulo al que otorgará acceso en la compañía</h4>
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th style="width: 15%">Identificador</th>
                        <th style="width: 20%">Nombre</th>
                        <th style="width: 30%">Descripción</th>
                        <th style="width: 10%"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let module of listModulesSystem">
                        <td>{{module.identificador}}</td>
                        <td>{{module.nombre}}</td>
                        <td>{{module.descripcion}}</td>
                        <td style="white-space: nowrap">
            
                            <div *ngIf="seleccionEmpresa">
                                <button (click)="assignModuleBusiness(module.identificador)"  class="btn btn-sm btn-outline-success">
                                    <span *ngIf="isAssigning" class="spinner-border spinner-border-sm"></span>
                                    <span *ngIf="!isAssigning">Otorgar Acceso</span>
                                </button>
                            </div>
                            
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>

    </div>
</div>
