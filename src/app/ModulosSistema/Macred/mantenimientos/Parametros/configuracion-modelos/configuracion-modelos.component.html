<main>
  <article class="bloq">
    <div class="contenedor mat-elevation-z4">
      <section>
        <!-- header -->
        <div class="contenedor__header">
          <div class="contenedor__header__prev">
            <h2>Crear Modelo PD</h2>
          </div>
          <div class="contenedor__header__next"></div>
        </div>
      </section>

      <section>
        <!-- body -->
        <div class="contenedor__body">
          <form [formGroup]="formModeloPD" class="row">
            <div class="form-group col-md-3">
              <label for="id" class="form-label">Código del modelo</label>
              <input
                formControlName="codigoModeloPD"
                class="form-control"
                type="text"
                id="id_codigoModeloPD"
                readonly
              />
            </div>

            <div class="form-group col-md-6">
              <label for="lbldescripcion" class="form-label"
                >Nombre del modelo</label
              >
              <input
                formControlName="descripcion"
                class="form-control"
                type="text"
                id="id_descripcion"
                [ngClass]="{
                  'is-invalid': submittedModeloPDForm && f.descripcion.errors
                }"
              />
              <div
                *ngIf="submittedModeloPDForm && f.descripcion.errors"
                class="invalid-feedback"
              >
                <div *ngIf="f.descripcion.errors.required">
                  El modelo es requerido
                </div>
              </div>
            </div>

            <div class="col-md-3 margin-icos-mat">
              <a
                (click)="handleRegistrarModelo()"
                class="btn btn-sm btn-outline-success"
                matTooltip="Añadir"
              >
                <i class="fa fa-plus"></i>
              </a>
            </div>
          </form>
        </div>
      </section>
    </div>
  </article>

  <article class="bloq">
    <div class="contenedor mat-elevation-z4">
      <section>
        <!-- header -->
        <div class="contenedor__header">
          <div class="contenedor__header__prev">
            <h2>Lista de Modelos PD</h2>
          </div>
          <div class="contenedor__header__next"></div>
        </div>
      </section>

      <section>
        <!-- body -->
        <div class="contenedor__body">
          <!-- *************** -->
          <mat-sidenav-container *ngIf="mostrarLista">
            <div class="content mat-elevation-z4">
              <main>
                <article>
                  <section class="content__menu">
                    <table class="table table-striped">
                      <thead>
                        <tr>
                          <th style="width: 40%">Nombre</th>
                          <th style="width: 15%">Usuario Crea</th>
                          <th style="width: 15%">Usuario Modifica</th>
                          <th style="width: 15%">Estado</th>
                          <th style="width: 15%"></th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let modelo of lstModelos">
                          <td>{{ modelo.descripcion }}</td>
                          <td>{{ modelo.usuarioCreacion }}</td>
                          <td>{{ modelo.usuarioModificacion }}</td>
                          <td *ngIf="modelo.estado == true">Activo</td>
                          <td *ngIf="modelo.estado == false">Inactivo</td>
                          <td style="white-space: nowrap">
                            <a
                              (click)="handleEditarModelo(modelo)"
                              class="btn btn-sm btn-outline-primary"
                              matTooltip="Información Crediticia"
                            >
                              <i class="fa fa-edit"></i>
                            </a>
                            <a
                              (click)="handleEliminarModelo(modelo.id)"
                              style="margin-left: 5%"
                              class="btn btn-sm btn-outline-danger"
                              matTooltip="Eliminar"
                            >
                              <i class="fa fa-trash"></i>
                            </a>
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </section>
                </article>
              </main>
            </div>
          </mat-sidenav-container>
          <!-- *************** -->
        </div>
      </section>
    </div>
  </article>
</main>
