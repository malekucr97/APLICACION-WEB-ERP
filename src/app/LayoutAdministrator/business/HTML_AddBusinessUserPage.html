<div class="contenido-main-admin">
    
    <div>
        <div>
            <p class="contenido-main-admin__h1">{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.TITLE' | translate }}</p>
            <p class="contenido-main-admin__h2">{{userToAssign.nombreCompleto}}</p>
        </div>

        <hr>

        <button class="back-ico-two"
                title="{{ 'CONFIGURATION.BTN_ADMIN_USERS' | translate}}"
                mat-icon-button
                (click)="redirectAdminUsersPage()"> <mat-icon>arrow_back</mat-icon> </button>
    </div>
    
    <div class="card">
        <div class="card-body">

            <h3 class="contenido-main-admin__h3-inline-black">{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.ROLE_USER' | translate }} : </h3>
            <h3 *ngIf="existeRol" class="contenido-main-admin__h3-inline-blue"><b>{{role.nombre}} </b></h3>
            <h3 *ngIf="!existeRol" class="contenido-main-admin__h3-inline-red">&emsp;<b>{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.VALIDATION.ROLE_NOT_ASSIGNED' | translate }}</b></h3>
        
            <div *ngIf="listBusinessUser"  class="d-flex justify-content-end">
                <button (click)="desAsignAllBusinessUser(userToAssign.id)"  class="btn-sm item-list-delete">
                    <span><b>{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.BTN_DELETE_ROLE' | translate }}</b></span> </button>
            </div>
    
            <hr>
            
            <div *ngIf="listBusinessUser" class="contenido-main-admin__table">
                <br>
                <p class="contenido-main-admin__h3-on">{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.LIST_COMPANIES_ACCES' | translate }}</p>
                <table class="table table-striped">
                
                    <thead>
                        <tr>
                            <th class="table__add-business-user__id">{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.TABLE.ID' | translate }}</th>
                            <th class="table__add-business-user__name">{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.TABLE.NAME' | translate }}</th>
                            <th class="table__add-business-user__email">{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.TABLE.EMAIL' | translate }}</th>
                            <th class="table__add-business-user__phone">{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.TABLE.PHONE' | translate }}</th>
                            <th class="table__add-business-user__ico"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let bussiDess of listBusinessUser">
    
                            <td>{{bussiDess.cedulaJuridica}}</td>
                            <td>{{bussiDess.nombre}}</td>
                            <td>{{bussiDess.correoElectronico}}</td>
                            <td>{{bussiDess.telefono}}</td>
                            
                            <td class="item-delete"
                                (click)="dessAssignBusinessUser(bussiDess.id)">
                                <mat-icon>remove_from_queue</mat-icon> access </td>
                        </tr>
                    </tbody>
                </table>
            
            <br> <hr>
            </div>

            <div *ngIf="listAllBusiness" class="contenido-main-admin__table">
                <br>
                <p class="contenido-main-admin__h3-off">{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.LIST_COMPANIES_NOT_ACCES' | translate }}</p>
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th class="table__add-business-user__id">{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.TABLE.ID' | translate }}</th>
                            <th class="table__add-business-user__name">{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.TABLE.NAME' | translate }}</th>
                            <th class="table__add-business-user__email">{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.TABLE.EMAIL' | translate }}</th>
                            <th class="table__add-business-user__phone">{{ 'CONFIGURATION.ADD_EDIT_BUSINESS_USER.TABLE.PHONE' | translate }}</th>
                            <th class="table__add-business-user__ico"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let businessAss of listAllBusiness" >
    
                            <td>{{businessAss.cedulaJuridica}}</td>
                            <td>{{businessAss.nombre}}</td>
                            <td>{{businessAss.correoElectronico}}</td>
                            <td>{{businessAss.telefono}}</td>
    
                            <td class="item-on"
                                (click)="assignBusinessUser(businessAss.id)">
                                <mat-icon>add_to_queue</mat-icon> access </td>
                        </tr>
                    </tbody>
                </table>
            
            <br> <hr>
            </div>
    
        </div>
    </div>
    
</div>