<main>
    <article class="articulo">
        <div class="articulo__contenedor">

            <div class="articulo__contenedor__tittle">
                <p class="articulo__contenedor__tittle__h1">{{businessObservable.nombre}}</p>
                <p class="articulo__contenedor__tittle__h2">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TITLE' | translate }}</p>
            </div>

            <hr>

            <div>
                <button class=" administracion-contenedor__content__item
                                administracion-contenedor__content__item__backIco
                                icon-button-medium"
                        title="{{ 'CONFIGURATION.BTN_ADMIN_USERS' | translate}}"
                        mat-icon-button 
                        (click)="redirectAdminUsersPage()"> <mat-icon>arrow_back</mat-icon>
                </button>
            </div>

            <div class="card">

                <div class="card-body">

                    <article>
                        <section>
                            <div class="row">

                                <div class="col-md-9">
                                    <p class="articulo__contenedor__tittle__h3">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.SUBTITLE' | translate }}</p>    
                                </div>
                                
                                <div class="col-md-3">
                                    <button class=" administracion-contenedor__content__item
                                                    administracion-contenedor__content__item__newUser
                                                    icon-button-medium"
                                            title="{{ 'CONFIGURATION.BTN_ADMIN_USERS' | translate}}"
                                            mat-icon-button 
                                            (click)="selectObjetoUsuario()"> <mat-icon>person_add</mat-icon>
                                    </button>
                                </div>
                            </div>
                        </section>
                    </article>

                    <article>
                        <section>
                            <div>
                                <table class="table table-striped">
                                    <thead>
                                        <tr>
                                            <th style="width: 1%"></th>
                                            <th style="width: 9%">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_ID' | translate }}</th>
                                            <th style="width: 20%">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_USERNAME' | translate }}</th>
                                            <th style="width: 20%">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_EMAIL' | translate }}</th>
                                            <th style="width: 25%">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_ROL' | translate }}</th>
                                            <th style="width: 10%">{{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_STATUS' | translate }}</th>
                        
                                            <th style="width: 1%"></th>
                                            <th style="width: 1%"></th>
                                            <th style="width: 1%"></th>
                                            <th style="width: 1%"></th>
                        
                                        </tr>
                                    </thead>
                                    <tbody>
                        
                                        <tr *ngFor="let us of listUsers"
                                            class="item-list__list" >
                        
                                            <td style="white-space: nowrap" 
                                                class="item-list__edit"
                                                (click)="selectObjetoUsuario(us)">
                                                <a> <mat-icon>edit</mat-icon> </a>
                                            </td>
                        
                                            <td (click)="selectObjetoUsuario(us)">{{us.identificacion}}</td>
                                            <td (click)="selectObjetoUsuario(us)">{{us.nombreCompleto}}</td>
                                            <td (click)="selectObjetoUsuario(us)">{{us.email}}</td>
                                            <td (click)="selectObjetoUsuario(us)">{{us.puesto}}</td>
                                            <td (click)="selectObjetoUsuario(us)">{{us.estado}}</td>
                        
                                            <td style="white-space: normal">
                                                <button *ngIf="isUserSuperAdmin" 
                                                        (click)="optionBusiness(us)" 
                                                        class="btn-sm item-list__admin__view">
                                                    {{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_BTN_COMPANY' | translate }} 
                                                </button>
                                            </td>
                        
                                            <td style="white-space: normal">
                                                <button (click)="optionRole(us)" 
                                                        class="btn-sm item-list__admin__view"> 
                                                    {{ 'CONFIGURATION.ADMIN_PAGE_LIST_USERS.TBL_BTN_ROLE' | translate }} 
                                                </button>
                                            </td>
                        
                                            <td style="white-space: normal">
                                                <button *ngIf="us.estado!='Active'"
                                                    (click)="activateUser(us.identificacion, us.id)"
                                                    class="btn-sm item-list__admin__ok" 
                                                    mat-icon-button > <mat-icon>thumb_down_alt</mat-icon>
                                                </button>
                        
                                                <button *ngIf="us.estado=='Active'"
                                                    (click)="inActivateUser(us.identificacion, us.id)"
                                                    class="btn-sm item-list__admin__warn" 
                                                    mat-icon-button > <mat-icon>thumb_up_alt</mat-icon>
                                                </button>
                                            </td>
                        
                                            <td style="white-space: normal">
                        
                                                <button (click)="deleteUser(us.id)"
                                                    class="bbtn-sm item-list__admin__danger" 
                                                    mat-icon-button > <mat-icon>delete</mat-icon>
                                                </button>
                                            </td>
                        
                                        </tr>
                                    </tbody>
                        
                                </table>
                            </div>
                        </section>
                    </article>

                </div>
            </div>

        </div>

    </article>
</main>